@model LexiconLMS.Models.Module

@{
    ViewBag.Title = "Module Details";
}

<h2>Module Details for Course @ViewBag.courseName</h2>

<div>
    <hr />
    <dl class="dl-horizontal">
        <!--
        <dt>
            @Html.DisplayNameFor(model => model.CourseId)
        </dt>
        -->

        <dd>
            @Html.HiddenFor(model => model.CourseId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.StartDateTime)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StartDateTime)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EndDateTime)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EndDateTime)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Add Activity", "Create", "Activities", new { moduleId = Model.Id }, null) |
    @Html.ActionLink("Edit Module Info", "Edit", new { id = Model.Id, courseName = ViewBag.CourseName }) |
    @Html.ActionLink("Back to Module List", "Index", new { courseId = Model.CourseId })
</p>

<hr>

<h3>Activities</h3>

@if (Model.Activities.Count > 0)
{
    var firstItem = Model.Activities.First();

    <table class="table table-bordered table-condensed table-striped table-hover sortable">
        <thead>
            <tr>
                <th data-defaultsign="AZ">
                   <!-- @Html.DisplayNameFor(model => firstItem.Type) -->
                    Type
                </th>
                <th data-defaultsign="AZ">
                    @Html.DisplayNameFor(model => firstItem.Name)
                </th>
                <th data-defaultsign="AZ">
                    @Html.DisplayNameFor(model => firstItem.StartDateTime)
                </th>
                <th data-defaultsign="AZ">
                    @Html.DisplayNameFor(model => firstItem.EndDateTime)
                </th>
                <!--
                <th data-defaultsign="AZ">
                    @Html.DisplayNameFor(model => firstItem.Description)
                </th>
                    -->
                <th data-defaultsort='disabled'></th>
            </tr>
        </thead>

        @foreach (var item in Model.Activities.OrderBy(a => a.StartDateTime))
        {
            
            <tr title= "@item.Description">
                <td>
                    @Html.DisplayFor(modelItem => item.Type.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartDateTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndDateTime)
                </td>
                <!--
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                    -->
                <td>
                    @Html.ActionLink("Edit", "Edit", "Activities", new { id = item.Id }, null) |
                    @Html.ActionLink("Details", "Details", "Activities", new { id = item.Id }, null) |
                    @Html.ActionLink("Remove", "Delete", "Activities", new { id = item.Id }, null)
                </td>
            </tr>
        }

    </table>
} else
{
    <p>No activities have been added so far.</p>
}

